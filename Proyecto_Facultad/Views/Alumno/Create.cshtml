@model Proyecto_Facultad.Models.Alumno

<div class="container">
    <h2 class="text-primary">Añadir Alumno</h2>
    <form id="alumnoForm" asp-action="Create" method="post">
        <div class="row mb-3">
            <div class="col-md-6">
                <label asp-for="PrimerNombreAlumno" class="form-label"></label>
                <input asp-for="PrimerNombreAlumno" class="form-control" />
                <span asp-validation-for="PrimerNombreAlumno" class="text-danger"></span>
            </div>
            <div class="col-md-6">
                <label asp-for="SegundoNombreAlumno" class="form-label"></label>
                <input asp-for="SegundoNombreAlumno" class="form-control" />
                <span asp-validation-for="SegundoNombreAlumno" class="text-danger"></span>
            </div>
        </div>

        <div class="row mb-3">
            <div class="col-md-6">
                <label asp-for="OtrosNombresAlumno" class="form-label"></label>
                <input asp-for="OtrosNombresAlumno" class="form-control" />
                <span asp-validation-for="OtrosNombresAlumno" class="text-danger"></span>
            </div>
            <div class="col-md-6">
                <label asp-for="PrimerApellidoAlumno" class="form-label"></label>
                <input asp-for="PrimerApellidoAlumno" class="form-control" />
                <span asp-validation-for="PrimerApellidoAlumno" class="text-danger"></span>
            </div>
        </div>

        <div class="row mb-3">
            <div class="col-md-6">
                <label asp-for="SegundoApellidoAlumno" class="form-label"></label>
                <input asp-for="SegundoApellidoAlumno" class="form-control" />
                <span asp-validation-for="SegundoApellidoAlumno" class="text-danger"></span>
            </div>
            <div class="col-md-6">
                <label asp-for="ApellidoCasado" class="form-label"></label>
                <input asp-for="ApellidoCasado" class="form-control" />
                <span asp-validation-for="ApellidoCasado" class="text-danger"></span>
            </div>
        </div>

        <div class="row mb-3">
            <div class="col-md-6">
                <label asp-for="FechaNacimiento" class="form-label"></label>
                <input id="fechaNacimiento" asp-for="FechaNacimiento" class="form-control" type="date" />
                <span id="fechaNacimientoError" class="text-danger"></span>
            </div>
            <div class="col-md-6">
                <label asp-for="FechaBautizo" class="form-label"></label>
                <input id="fechaBautizo" asp-for="FechaBautizo" class="form-control" type="date" />
                <span id="fechaBautizoError" class="text-danger"></span>
            </div>
        </div>

        <div class="row mb-3">
            <div class="col-md-6">
                <label asp-for="Direccion" class="form-label"></label>
                <input asp-for="Direccion" class="form-control" />
                <span asp-validation-for="Direccion" class="text-danger"></span>
        </div>
        <div class="col-md-6">
            <label asp-for="Telefono" class="form-label"></label>
             <input asp-for="Telefono" class="form-control" maxlength="8" minlength="8" pattern="\d{8}" title="El teléfono debe contener 8 dígitos sin guiones." />
            <span asp-validation-for="Telefono" class="text-danger"></span>
        </div>
        </div>

        <div class="row mb-3">
            <div class="col-md-6">
                <label asp-for="NumeroCelula" class="form-label"></label>
                <input asp-for="NumeroCelula" class="form-control" />
                <span asp-validation-for="NumeroCelula" class="text-danger"></span>
            </div>
            <div class="col-md-6">
                <label asp-for="EstadoCivil" class="form-label"></label>
                <select asp-for="EstadoCivil" class="form-control">
                    <option value="Soltero">Soltero</option>
                    <option value="Casado">Casado</option>
                </select>
                <span asp-validation-for="EstadoCivil" class="text-danger"></span>
            </div>
        </div>

        <div class="row mb-3">
            <div class="col-md-6">
                <label asp-for="CodigoFrater" class="form-label"></label>
                <input asp-for="CodigoFrater" class="form-control" />
                <span asp-validation-for="CodigoFrater" class="text-danger"></span>
            </div>
            <div class="col-md-3">
                <div class="form-check">
                    <input asp-for="Becado" class="form-check-input" type="checkbox" />
                    <label asp-for="Becado" class="form-check-label"></label>
                    <span asp-validation-for="Becado" class="text-danger"></span>
                </div>
            </div>
        </div>

        <div class="row mb-3">
            <div class="col-md-6">
                <div class="form-check">
                    <input asp-for="Retiro" class="form-check-input" type="checkbox" />
                    <label asp-for="Retiro" class="form-check-label"></label>
                    <span asp-validation-for="Retiro" class="text-danger"></span>
                </div>
            </div>
            <div class="col-md-6">
                <div class="form-check">
                    <input asp-for="ReunionesEnConfianza" class="form-check-input" type="checkbox" />
                    <label asp-for="ReunionesEnConfianza" class="form-check-label"></label>
                    <span asp-validation-for="ReunionesEnConfianza" class="text-danger"></span>
                </div>
            </div>
        </div>

        <div class="row mb-3">
            <div class="col-md-6">
                <div class="form-check">
                    <input asp-for="Otros" class="form-check-input" type="checkbox" />
                    <label asp-for="Otros" class="form-check-label"></label>
                    <span asp-validation-for="Otros" class="text-danger"></span>
                </div>
            </div>
            <div class="col-md-6">
                <div class="form-check">
                    <input asp-for="EstatusAlumno" class="form-check-input" type="checkbox" />
                    <label asp-for="EstatusAlumno" class="form-check-label"></label>
                    <span asp-validation-for="EstatusAlumno" class="text-danger"></span>
                </div>
            </div>
        </div>

        <div class="form-group d-flex">
            <button type="submit" class="btn btn-primary flex-fill me-2">Guardar</button>
            <a asp-action="Index" asp-controller="alumno" class="btn btn-danger flex-fill">Cancelar</a>
        </div>
    </form>
</div>

@section Scripts {
    <partial name="_ValidationScriptsPartial" />
    <script>
        document.querySelector('form').addEventListener('submit', function (event) {
    var fechaNacimientoInput = document.getElementById('fechaNacimiento');
    var fechaNacimientoError = document.getElementById('fechaNacimientoError');
    var fechaBautizoInput = document.getElementById('fechaBautizo');
    var fechaBautizoError = document.getElementById('fechaBautizoError');
    var telefonoInput = document.getElementById('telefono');
    var telefonoError = document.getElementById('telefonoError');

    var fechaNacimiento = new Date(fechaNacimientoInput.value);
    var fechaBautizo = new Date(fechaBautizoInput.value);
    var today = new Date();
    today.setHours(0, 0, 0, 0);

    var valid = true;

    if (fechaNacimiento > today) {
        fechaNacimientoError.textContent = "La fecha de nacimiento no puede ser mayor que la fecha actual.";
        valid = false;
    } else {
        fechaNacimientoError.textContent = "";
    }

    if (fechaBautizo && fechaBautizo > today) {
        fechaBautizoError.textContent = "La fecha de bautizo no puede ser mayor que la fecha actual.";
        valid = false;
    } else {
        fechaBautizoError.textContent = "";
    }

    var telefono = telefonoInput.value;
    if (telefono.length !== 8) {
        telefonoError.textContent = "El teléfono debe tener exactamente 8 dígitos.";
        valid = false;
    } else {
        telefonoError.textContent = "";
    }

    if (!valid) {
        event.preventDefault(); 
    }
});
    </script>
}
